-- H2 2.2.224;
;             
CREATE USER IF NOT EXISTS "SA" SALT 'dbb3f555a795a087' HASH '3793619a29630482d1a2501620706f218b1a4bd6d38c28e680339a4281788006' ADMIN;         
CREATE CACHED TABLE "PUBLIC"."COURSE"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 6) NOT NULL,
    "CODE" CHARACTER VARYING(255),
    "NAME" CHARACTER VARYING(255)
);    
ALTER TABLE "PUBLIC"."COURSE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_7" PRIMARY KEY("ID");       
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.COURSE;  
INSERT INTO "PUBLIC"."COURSE" VALUES
(1, 'MATH', 'toan cao cap '),
(2, 'HISTORY', 'lich su dai cuong'),
(3, 'MATH 2', 'taon roi rac'),
(4, 'MATH 3', 'toan dai cuong 123');               
CREATE CACHED TABLE "PUBLIC"."STUDENT"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 7) NOT NULL,
    "ADDRESS" CHARACTER VARYING(255),
    "CODE" CHARACTER VARYING(255),
    "FULLNAME" CHARACTER VARYING(255)
);        
ALTER TABLE "PUBLIC"."STUDENT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_B" PRIMARY KEY("ID");      
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.STUDENT; 
INSERT INTO "PUBLIC"."STUDENT" VALUES
(1, 'quan 2', '123', 'vu khai'),
(2, 'binh thanh', '126', 'hi thu'),
(3, 'vung tau', '125', 'hong duyen');           
CREATE CACHED TABLE "PUBLIC"."GRADE"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 4) NOT NULL,
    "COURSE_CODE" CHARACTER VARYING(255),
    "STUDENT_CODE" CHARACTER VARYING(255),
    "GRADE" FLOAT(53)
);              
ALTER TABLE "PUBLIC"."GRADE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("ID");        
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.GRADE;   
INSERT INTO "PUBLIC"."GRADE" VALUES
(1, 'MATH', '123', 10.0),
(2, 'MATH', '125', 9.5);      
ALTER TABLE "PUBLIC"."STUDENT" ADD CONSTRAINT "PUBLIC"."UK_6MGTXK9M2EC3BIH9JBB39WT6P" UNIQUE("CODE");         
ALTER TABLE "PUBLIC"."COURSE" ADD CONSTRAINT "PUBLIC"."UK_I60MRUJ0Y7A7VS99DQPIYE7EN" UNIQUE("CODE");          
ALTER TABLE "PUBLIC"."GRADE" ADD CONSTRAINT "PUBLIC"."FKC55X50TPBWS3UWRVQIP3FKRBR" FOREIGN KEY("COURSE_CODE") REFERENCES "PUBLIC"."COURSE"("CODE") NOCHECK;   
ALTER TABLE "PUBLIC"."GRADE" ADD CONSTRAINT "PUBLIC"."FKLX07OKMV29CBIMSV3J0JL9FPN" FOREIGN KEY("STUDENT_CODE") REFERENCES "PUBLIC"."STUDENT"("CODE") NOCHECK; 
